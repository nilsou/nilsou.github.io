<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Xcode | Nils Hayat]]></title>
  <link href="http://nilsou.com/blog/categories/xcode/atom.xml" rel="self"/>
  <link href="http://nilsou.com/"/>
  <updated>2013-08-21T11:50:38-04:00</updated>
  <id>http://nilsou.com/</id>
  <author>
    <name><![CDATA[Nils Hayat]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Xcode 5 finally makes Interface Builder a viable option for teams]]></title>
    <link href="http://nilsou.com/blog/2013/08/07/xcode-5-finally-makes-interface-builder-a-viable-option-for-teams/"/>
    <updated>2013-08-07T11:00:00-04:00</updated>
    <id>http://nilsou.com/blog/2013/08/07/xcode-5-finally-makes-interface-builder-a-viable-option-for-teams</id>
    <content type="html"><![CDATA[<p>Last week as I was merging code to my working branch, I noticed something I had rarely (<em>never?</em>) seen before:</p>

<p><img src="http://f.cl.ly/items/1m473i2p0B32263R0M2f/Screen%20Shot%202013-07-22%20at%204.27.14%20PM.png" alt="Auto-merging Home/KTHomeViewController.xib" /></p>

<p>Git had just <strong>auto-merged a xib file</strong> for me! I figured this must have something to do with Xcode 5 and its &ldquo;upgrading&rdquo; of xib files, so I started digging.</p>

<p>It turns out that the xib files generated by Xcode 5 are of a completely new kind. It seems that Apple started from scratch with this and the changes make xib files finally usable in teams of all sizes for the first time.</p>

<!-- more -->


<h3>Xcode 4 xib format</h3>

<p>To demonstrate the difference between the 2 file formats I have created a new xib file in Xcode 4 and put a bunch of views in it: A UIScrollView with UIButtons, UILabels and more in it, a UITextView etc.</p>

<p><img src="http://f.cl.ly/items/1Q1v313m0F1h3d0w3T2d/Screen%20Shot%202013-07-22%20at%204.19.34%20PM.png" alt="View in Interface Builder" /></p>

<p>After that I right clicked on the file in the project navigator and selected <code>Open As &gt; Source Code</code>. Here is what that file looked like under the hood:</p>

<p><a href="https://gist.github.com/nilsou/6057457">.xib file generated by Xcode 4</a> (you need to click &ldquo;File suppressed. Click to show.&rdquo; because github is being stupid)</p>

<p><strong>1108 lines</strong> for a rather simple view! That&rsquo;s a lot.</p>

<p>Try to make sense of the file, it&rsquo;s not intelligible at least not easily. This is the main reason why people don&rsquo;t like xib files and <a href="http://sam.roon.io/why-i-dont-use-interface-builder">don&rsquo;t use interface builder</a>.</p>

<p>It gets worse: the format is non-deterministic. Meaning that if you and I create exactly the same UI in Interface builder, we might (will) not have the same file content. This use to make xib files very difficult or even impossible to merge. This is the other big reason for people not to use xib files.</p>

<h3>Xcode 5 xib format</h3>

<p>Then I opened the same project in Xcode 5. When you open a xib file that was created in Xcode 4 in Xcode 5 you are prompted to upgrade the file to the new format. You want to only do it if all the people working on the project use Xcode 5 because the new files can&rsquo;t be opened by older versions of Xcode.</p>

<p><img src="http://f.cl.ly/items/2w0g1i0b293w3u103w1i/Screen%20Shot%202013-07-22%20at%204.48.19%20PM.png" alt="Upgrade &quot;View.xib&quot; to take advantage of Xcode 5 features?" /></p>

<p>I clicked <em>Upgrade</em> and then opened the xib file as source code again to see what had changed. Here is what it looked like.</p>

<p><a href="https://gist.github.com/nilsou/6057474">.xib file generated by Xcode 5</a> (again, click &ldquo;File suppressed. Click to show.&rdquo;)</p>

<p><strong>103 lines!</strong> The old file had more than 10 times as many lines! Now this is what I call a drastic reduction.</p>

<p>And look at it, it&rsquo;s actually <em>understandable</em>. The file now reflects the view hierarchy that you see in the left part of Interface Builder! With a little bit of practice you could even write that xml code. Ok, ok I am pushing it a little here.</p>

<p>On top of that, the code generated seems to be deterministic now. This means that with the same user interface in input it will generate the same xib file. This makes manual merging much easier if it is needed.</p>

<h3>Conclusion</h3>

<p>The best part is that this new file format is not only understandable by humans but git can also make sense of the changes happening and will now most of the time auto-merge your xib files for you!</p>

<p>Now if someone tells you that they don&rsquo;t want to use xib files, send them to this article, I don&rsquo;t think there are many reasons left not to use them.</p>

<p>This is not the only improvement that Xcode 5 brings to Interface Builder, for example, setting auto-layout constraints is now awesome whereas it was a pain before. If you have tried setting constraints in code you know that it is not a walk in the park.</p>

<p>Let me know what you think on <a href="http://twitter.com/nilsou">twitter</a>!</p>
]]></content>
  </entry>
  
</feed>
