---
layout: post
title: "Xcode 5 finally makes Interface Builder a viable option for teams"
date: 2013-08-07 11:00
comments: true
published: true
categories:
- iOS
- Interface Builder
- xib
- Xcode
---

Last week as I was merging code to my working branch, I noticed something I had rarely (*never?*) seen before:

![Auto-merging Home/KTHomeViewController.xib](http://f.cl.ly/items/1m473i2p0B32263R0M2f/Screen%20Shot%202013-07-22%20at%204.27.14%20PM.png)

Git had just **auto-merged a xib file** for me! I figured this must have to do something with Xcode 5 and its "upgrading" of xib files, so I started digging.

It turns out that the xib files generated by Xcode 5 are of a completely new kind. It seems that Apple started from scratch with this and the changes make xib files finally usable in teams of all sizes for the first time.

<!-- more -->

### Xcode 4 xib format

To demonstrate the difference between the 2 file formats I have created a new xib file in Xcode 4 and put a bunch of views in it: A UIScrollView with UIButtons, UILabels and more in it, a UITextView etc.

![View in Interface Builder](http://f.cl.ly/items/1Q1v313m0F1h3d0w3T2d/Screen%20Shot%202013-07-22%20at%204.19.34%20PM.png)

After that I right clicked on the file in the project navigator and selected `Open As > Source Code`. Here is what that file looked like under the hood:

[.xib file generated by Xcode 4](https://gist.github.com/nilsou/6057457) (you need to click "File suppressed. Click to show." because github is being stupid)

**1108 lines** for a rather simple view! That's a lot.

Try to make sense of the file, it's not intelligible at least not easily. This is the main reason why people don't like xib files and [don't use interface builder](http://sam.roon.io/why-i-dont-use-interface-builder).

It gets worse: the format is non-deterministic. Meaning that if you and I create exactly the same UI in Interface builder, we might (will) not have the same file content. This use to make xib files very difficult or even impossible to merge. This is the other big reason for people not to use xib files.

### Xcode 5 xib format

Then I opened the same project in Xcode 5. When you open a xib file that was created in Xcode 4 in Xcode 5 you are prompted to upgrade the file to the new format. You want to only do it if all the people working on the project use Xcode 5 because the new files can't be opened by older versions of Xcode.

![Upgrade "View.xib" to take advantage of Xcode 5 features?](http://f.cl.ly/items/2w0g1i0b293w3u103w1i/Screen%20Shot%202013-07-22%20at%204.48.19%20PM.png)

I clicked *Upgrade* and then opened the xib file as source code again to see what had changed. Here is what it looked like.

[.xib file generated by Xcode 5](https://gist.github.com/nilsou/6057474) (again, click "File suppressed. Click to show.")

**103 lines!** The old file had more than 10 times as many lines! Now this is what I call a drastic reduction.

And look at it, it's actually *understandable*. The file now reflects the view hierarchy that you see in the left par of interface builder! With a little bit of practice you could even write that xml code. Ok, ok I am pushing it a little here.

On top of that, the code generated seems to be deterministic now. This means that with the same user interface in input it will generate the same xib file. This makes manual merging much easier if it is needed.

### Conclusion

The best part is that this new file format is not only understandable by humans but git can also make sense of the changes happening and will now most of the time auto-merge your xib files for you!

Now if someone tells you that they don't want to use xib files, send them to this article, I don't think there are many reasons left not to use them.

This is not the only improvement that Xcode 5 brings to Interface Builder, for example, setting auto-layout constraints is now awesome when it was a pain before and if you tried setting constraints in code you know that it is not a viable alternative.

Let me know what you think on [twitter](http://twitter.com/nilsou)!